{"is_source_file": true, "format": "JavaScript (React component)", "description": "This file defines a React functional component 'MapView' that integrates Google Maps for displaying surf spots, handles user interactions like clicking to add markers, searches for surf spots via Google Places API, fetches weather data, and manages favorite spots using local storage.", "external_files": ["../services/stormglassApi", "../services/localStorage", "./SpotCard", "./WeatherWidget"], "external_methods": ["getWeatherData", "saveFavoriteSpot", "getFavoriteSpots", "removeFavoriteSpot"], "published": [], "classes": [], "methods": [{"name": "MapView", "description": "Main React functional component providing the map interface and supporting functionalities like search, spot selection, weather data display, and favorites management."}], "calls": ["useRef", "useState", "useEffect", "useCallback", "google.maps.Geocoder", "google.maps.Marker", "google.maps.Map", "google.maps.places.PlacesService", "google.maps.places.PlacesServiceStatus", "toast.error", "getWeatherData", "saveFavoriteSpot", "getFavoriteSpots", "removeFavoriteSpot"], "search-terms": ["MapView", "Google Maps integration", "surf spot search", "favorite spots", "weather data", "React useEffect", "React useRef"], "state": 2, "file_id": 21, "knowledge_revision": 70, "git_revision": "", "revision_history": [{"46": ""}, {"63": ""}, {"64": ""}, {"69": ""}, {"70": ""}], "ctags": [{"_type": "tag", "name": "MapView", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^const MapView = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "googleMapRef", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^  const googleMapRef = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleMapClick", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^  const handleMapClick = useCallback(async (latLng, google) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleSearch", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^              onClick={handleSearch}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "handleSearch", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^  const handleSearch = useCallback(async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleToggleFavorite", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^  const handleToggleFavorite = useCallback((spot) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "mapRef", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^            ref={mapRef} $/", "language": "JavaScript", "kind": "field", "scope": "ref", "scopeKind": "class"}, {"_type": "tag", "name": "mapRef", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^  const mapRef = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "markersRef", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^  const markersRef = useRef([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "searchTerm", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^                value={searchTerm}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "setFavoriteSpots", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^  const [favoriteSpots, setFavoriteSpots] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setLoading", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^  const [loading, setLoading] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setMapLoaded", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^  const [mapLoaded, setMapLoaded] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSearchTerm", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^  const [searchTerm, setSearchTerm] = useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSelectedSpot", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^  const [selectedSpot, setSelectedSpot] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setWeatherData", "path": "/home/kavia/workspace/code-generation/surfsense-159763-159772/surf_buddy_frontend/src/components/MapView.js", "pattern": "/^  const [weatherData, setWeatherData] = useState(null);$/", "language": "JavaScript", "kind": "constant"}], "hash": "dbe6c962eea2b26bd9dee307a69ee103", "format-version": 4, "code-base-name": "surf_buddy_frontend", "filename": "surf_buddy_frontend/src/components/MapView.js", "fields": [{"name": "onClick={handleSearch}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={mapRef}", "scope": "ref", "scopeKind": "class", "description": "unavailable"}, {"name": "value={searchTerm}", "scope": "value", "scopeKind": "class", "description": "unavailable"}]}